<section class="wrapper">
  <div class="background-white"></div>
  <div class="background-neutral-grayish-violet-secondary"></div>
  <div class="container-fluid form-container">
    <div class="rounded-2 form-background">
      <form [formGroup]="form" (ngSubmit)="onSubmit()" class="p-4">
        <div class="row">
          <div class="col-12 col-lg-9 col-xxl-10">
            <input
              formControlName="url"
              class="form-control url-input"
              type="text"
              placeholder="Shorten a link here..."
              name="url"
              (click)="onTouchedInput()"
            />
            @if (!form.get('url')?.valid && form.get('url')?.touched) {
              <span class="error-block"><i>Please add a link</i></span>
            } 
            @if (errorMessage().status !== 0 && errorMessage().status !== -1) {
              <span class="error-block" #es>
                <i>{{ errorMessage().status }}: {{ errorMessage().statusText }}</i>
              </span>
            } 
            @if (errorMessage().status === -1) {
              <span class="error-block" #es style="color: orange !important">
                <i>{{ errorMessage().statusText }}</i>
              </span>
            }
          </div>
          <div class="col-12 col-lg-3 col-xxl-2">
            <button
              [disabled]="!form.valid"
              class="btn text-white w-100 shorten-it-button"
              type="submit"
            >
              Shorten It!
            </button>
          </div>
        </div>
      </form>
    </div>
  </div>
</section>
